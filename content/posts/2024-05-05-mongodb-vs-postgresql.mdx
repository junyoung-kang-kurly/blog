---
title: "mongodb vs postgresql 벤치마크"
description: "PostgreSQL과 MongoDB 벤치마크 결과를 간단히 요약."
date: "2024-05-05"
published: true
tags: ["postgresql", "mongodb", "benchmark", "database"]
---

아래 페이지를 발견했다.

- https://www.enterprisedb.com/performance-benchmark-postgresql-vs-mongodb

테스트 조건과 케이스를 꽤 세심하게 정리해 둔 자료다.
결론부터 말하자면 대체로 PostgreSQL이 우세했다.
예전에 로컬에서 단순 insert 속도를 벤치마크했을 때도
PostgreSQL이 MongoDB보다 압도적으로 빨랐던 기억이 있다.
그래서 어느 정도 예상한 결과였다.

PostgreSQL에 유리한 방식으로 진행됐을까 의심도 들 수 있지만,
본문에는 가급적 프로덕션 환경과 유사하게 세팅했다고 적혀 있다.
테스트 조건도 자세히 적혀 있어 신뢰가 갔다.

이 글은 결과 요약 전달이 목적이고, 자세한 내용은 원문 PDF를 참고하면 된다.

## OLTP 벤치마크

OLTP에서 PostgreSQL이 압도적으로 빠르다.

![](/images/posts/0d70f0f0-160d-40c4-ad2d-a3e0468d22ef-image.png)

## OLAP 벤치마크

OLAP에서도 PostgreSQL이 대체로 우세했다.
Query A만 22% 느렸고, 나머지는 PostgreSQL이 우세했다.

![](/images/posts/839cf2d4-b42c-452d-9037-f5be13472961-image.png)

Query A가 느린 이유가 궁금해서 쿼리를 첨부한다.
플랜을 봐야 정확한 이유를 알 수 있을 것 같다.

![](/images/posts/7310cfeb-d953-4154-957a-f19aac2c0491-image.png)

## 소감

결론은, 성능 때문에 MongoDB를 채택할 일은 적을 것 같다.
이미 RDB를 쓰는 상황에서 DocumentDB나 MongoDB Atlas를 추가 도입하면
비용적으로도 이점이 없어 보인다.
MongoDB의 뚜렷한 장점이라면 스키마리스 정도가 아닐까.
