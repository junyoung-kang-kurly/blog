---
title: "Brewfile bundle 을 이용하여 Brew dump하기"
description: "Brew bundle 은 HomeBrew의 서브 커맨드로써 Brewfile을 통해 패키지cask서비스등을 선언적으로 설치하고 관리하는 도구이다.현재 설치된 Homebrew 패키지들을 Brewfile로 추출이 가능하다.설치되어있는 Homebrew의 목록을 dump 뜨기."
date: "2025-12-21"
published: true
tags: []
---
## 개요

Brew bundle은 HomeBrew의 서브 커맨드로, Brewfile을 통해 다음 항목들을 선언적으로 관리할 수 있는 강력한 도구입니다:

- **패키지(Formula)**: CLI 도구 및 라이브러리
- **Cask**: GUI 애플리케이션
- **서비스**: 백그라운드 데몬 및 서비스
- **Mac App Store 앱**: mas-cli를 통한 앱 관리

이를 통해 개발 환경을 코드로 관리하고, 여러 Mac 간에 일관된 환경을 쉽게 구성할 수 있습니다.

## Brewfile 추출 (dump)

현재 시스템에 설치된 모든 Homebrew 패키지를 Brewfile로 추출할 수 있습니다.

```bash
# Brewfile 생성
brew bundle dump

# 기존 Brewfile이 있을 경우 덮어쓰기
brew bundle dump --force

# Brewfile 내용 확인
cat Brewfile
```

생성된 Brewfile은 현재 디렉토리에 저장되며, 설치된 모든 패키지, cask, tap, mas 항목을 포함합니다.

## Brewfile 설치 (install)

추출된 Brewfile을 사용하여 다른 Mac에서 동일한 환경을 구성할 수 있습니다.

```bash
# 새 Mac에서 Brewfile 설치 전 Homebrew 업데이트 권장
brew update && brew upgrade

# Brewfile을 사용하여 패키지 설치
brew bundle install

# install은 생략 가능
brew bundle

# 특정 디렉토리의 Brewfile 사용
brew bundle --file=~/dotfiles/Brewfile
```

### 설치 옵션

- `--no-upgrade`: 이미 설치된 패키지는 업그레이드하지 않음
- `--verbose`: 상세한 설치 로그 출력
- `--force`: 설치 중 오류 발생 시에도 계속 진행

## Brewfile 예시

실제 개발 환경에서 사용하는 Brewfile 예시입니다:

```ruby
# Tap 저장소 추가
tap "aws/tap"
tap "homebrew/cask-fonts"
tap "homebrew/autoupdate"

# CLI 도구 설치
brew "awscli"           # AWS CLI
brew "curl"             # HTTP 클라이언트
brew "docker"           # 컨테이너 플랫폼
brew "git"              # 버전 관리
brew "gh"               # GitHub CLI
brew "gradle"           # 빌드 도구
brew "jenv"             # Java 버전 관리
brew "jq"               # JSON 파서
brew "wget"             # 파일 다운로더

# GUI 애플리케이션 설치 (Cask)
cask "visual-studio-code"    # 코드 에디터
cask "intellij-idea"         # Java IDE
cask "docker"                # Docker Desktop
cask "notion"                # 노트 앱
cask "slack"                 # 커뮤니케이션
cask "google-chrome"         # 웹 브라우저

# Mac App Store 앱 설치 (mas-cli 필요)
mas "Magnet", id: 441258766       # 윈도우 관리
mas "KakaoTalk", id: 869223134    # 메신저
```

## Brewfile 관리 명령어

### 1. brew bundle cleanup

Brewfile에 명시되지 않은 패키지를 제거합니다.

```bash
# 삭제될 패키지 목록 확인 (실제 삭제하지 않음)
brew bundle cleanup

# 실제로 삭제 실행
brew bundle cleanup --force
```

이 명령어는 Brewfile에 선언된 패키지만 남기고 나머지를 제거하여 깨끗한 환경을 유지하는 데 유용합니다. 특히 테스트용으로 설치했던 불필요한 패키지를 정리할 때 효과적입니다.

### 2. brew bundle check

Brewfile에 명시된 모든 패키지가 설치되어 있는지 확인합니다.

```bash
brew bundle check
```

모든 패키지가 설치되어 있으면 exit code 0을, 누락된 패키지가 있으면 1을 반환합니다.

### 3. brew bundle list

Brewfile에 명시된 패키지 목록을 출력합니다.

```bash
# 모든 항목 나열
brew bundle list

# 특정 타입만 나열
brew bundle list --brews    # Formula만
brew bundle list --casks    # Cask만
brew bundle list --taps     # Tap만
brew bundle list --mas      # Mac App Store 앱만
```

## 활용 팁

### 1. Git으로 Brewfile 관리

Brewfile을 Git 저장소에 저장하여 버전 관리하세요:

```bash
# dotfiles 저장소에 Brewfile 추가
cp Brewfile ~/dotfiles/
cd ~/dotfiles
git add Brewfile
git commit -m "Add Brewfile for package management"
```

### 2. 주석 활용

Brewfile에 주석을 추가하여 패키지의 용도를 명확히 하세요:

```ruby
# 개발 도구
brew "git"              # 버전 관리 시스템
brew "docker"           # 컨테이너 플랫폼

# 생산성 도구
cask "notion"           # 노트 및 문서 관리
cask "rectangle"        # 윈도우 관리 유틸리티
```

### 3. 환경별 Brewfile 분리

개인용과 업무용 환경을 분리하여 관리할 수 있습니다:

```bash
# 개인용
brew bundle --file=~/dotfiles/Brewfile.personal

# 업무용
brew bundle --file=~/dotfiles/Brewfile.work
```

## 주의사항

- **mas-cli 필요**: Mac App Store 앱 설치를 위해서는 `brew install mas`로 mas-cli를 먼저 설치해야 합니다.
- **App Store 로그인**: mas를 사용하기 전에 App Store에 로그인되어 있어야 합니다.
- **Cask 업데이트**: `brew bundle`은 이미 설치된 cask를 자동으로 업데이트하지 않습니다. `--no-upgrade` 옵션이 기본 동작입니다.
- **권한 문제**: 일부 cask 설치 시 관리자 권한이 필요할 수 있습니다.

## 참고 자료

- [Homebrew Bundle 공식 문서](https://github.com/Homebrew/homebrew-bundle)
- [Homebrew 공식 사이트](https://brew.sh/)
- [mas-cli GitHub](https://github.com/mas-cli/mas)