---
import FormattedDate from './FormattedDate.astro';
import TagList from './TagList.astro';

interface Props {
  title: string;
  description: string;
  pubDate: Date;
  slug: string;
  tags: string[];
  heroImage?: string;
}

const { title, description, pubDate, slug, tags, heroImage } = Astro.props;
---

<article class="group">
  <a href={`/blog/${slug}`} class="block">
    {heroImage && (
      <img
        src={heroImage}
        alt={title}
        class="w-full h-48 object-cover rounded-lg mb-4 group-hover:opacity-90 transition-opacity"
        loading="lazy"
      />
    )}

    <h2
      class="text-xl font-semibold group-hover:text-[var(--color-accent)] transition-colors"
      style="color: var(--color-text);"
    >
      {title}
    </h2>

    <p class="mt-2 line-clamp-2" style="color: var(--color-text-secondary);">
      {description}
    </p>

    <div class="mt-3 flex items-center gap-4 text-sm" style="color: var(--color-text-secondary);">
      <FormattedDate date={pubDate} />
    </div>
  </a>

  {tags.length > 0 && (
    <div class="mt-3">
      <TagList tags={tags.slice(0, 4)} />
    </div>
  )}
</article>
