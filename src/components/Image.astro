---
interface Props {
  src: string;
  alt: string;
  width?: 'full' | 'large' | 'medium' | 'small';
  caption?: string;
}

const { src, alt, width = 'full', caption } = Astro.props;

const widthClasses = {
  full: 'w-full',
  large: 'w-full max-w-3xl',
  medium: 'w-full max-w-xl',
  small: 'w-full max-w-sm',
};
---

<figure class={`my-8 ${widthClasses[width]} mx-auto`}>
  <img
    src={src}
    alt={alt}
    class="rounded-lg w-full h-auto"
    loading="lazy"
    decoding="async"
  />
  {caption && (
    <figcaption class="text-center text-sm mt-2" style="color: var(--color-text-secondary);">
      {caption}
    </figcaption>
  )}
</figure>
